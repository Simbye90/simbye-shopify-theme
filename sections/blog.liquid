<!-- sections/blog.liquid -->
<!-- SIMBYE BLOG SECTION - Ohne Pagination (zeigt alle Artikel) -->

<style>
/* Kill Shopify Grid */
.shopify-section:has(.blog-section) {
  display: block !important;
  padding: 0 !important;
  margin: 0 !important;
  grid-template-columns: unset !important;
  max-width: 100% !important;
  width: 100% !important;
}

/* CSS Variables */
:root {
  --blog-primary: #009a61 !important;
  --blog-primary-dark: #00824f !important;
  --blog-accent: #00d97e !important;
  --blog-text: #1a1a1a !important;
  --blog-text-secondary: #666666 !important;
  --blog-bg: #ffffff !important;
  --blog-card-bg: #ffffff !important;
  --blog-border: rgba(0, 0, 0, 0.08) !important;
  --blog-shadow-md: 0 8px 24px rgba(0, 0, 0, 0.08) !important;
  --blog-radius: 24px !important;
  --blog-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

[data-theme="dark"] {
  --blog-text: #ffffff !important;
  --blog-text-secondary: #cccccc !important;
  --blog-bg: #0a0a0a !important;
  --blog-card-bg: rgba(26, 26, 26, 0.8) !important;
  --blog-border: rgba(255, 255, 255, 0.08) !important;
  --blog-primary: #00d97e !important;
  --blog-accent: #00ff88 !important;
  --blog-shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
}

/* Main Section */
.blog-section {
  width: 100% !important;
  background: var(--blog-bg) !important;
  padding: 80px 0 !important;
  min-height: 100vh !important;
}

[data-theme="dark"] .blog-section {
  background: #0a0a0a !important;
}

/* Force All Text Colors */
.blog-section,
.blog-section * {
  color: var(--blog-text) !important;
}

.blog-section .article-meta,
.blog-section .article-date,
.blog-section .article-author,
.blog-section .article-excerpt {
  color: var(--blog-text-secondary) !important;
}

/* Force Images Visible */
.blog-section img {
  opacity: 1 !important;
  filter: none !important;
}

[data-theme="dark"] .blog-section img {
  opacity: 1 !important;
  filter: brightness(0.95) !important;
}

/* Container */
.blog-container {
  max-width: 1440px;
  margin: 0 auto;
  padding: 0 40px;
}

/* Header */
.blog-header {
  text-align: center;
  margin-bottom: 72px;
}

.blog-title {
  font-size: clamp(36px, 5vw, 56px);
  font-weight: 700;
  color: var(--blog-text);
  margin: 0 0 20px 0;
  letter-spacing: -0.02em;
  line-height: 1.1;
}

.blog-subtitle {
  font-size: 20px;
  color: var(--blog-text-secondary);
  margin: 0;
  font-weight: 400;
  line-height: 1.5;
}

/* Articles Grid */
.blog-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 32px;
  margin-bottom: 60px;
}

/* Article Card */
.article-card {
  background: var(--blog-card-bg);
  border: 2px solid var(--blog-border);
  border-radius: var(--blog-radius);
  overflow: hidden;
  box-shadow: var(--blog-shadow-md);
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease;
}

.article-card:hover {
  transform: translateY(-4px);
}

[data-theme="dark"] .article-card {
  background: var(--blog-card-bg);
  border-color: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(10px);
}

/* Article Image */
.article-image-wrapper {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* 16:9 */
  overflow: hidden;
  background: linear-gradient(135deg, #f8fffe 0%, #ffffff 100%);
}

[data-theme="dark"] .article-image-wrapper {
  background: rgba(0, 217, 126, 0.05);
}

.article-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Article Content */
.article-content {
  padding: 28px 24px;
  display: flex;
  flex-direction: column;
  flex: 1;
}

.article-meta {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  font-size: 13px;
  color: var(--blog-text-secondary);
}

.article-date {
  display: flex;
  align-items: center;
  gap: 6px;
}

.article-date svg {
  width: 14px;
  height: 14px;
}

.article-author {
  display: flex;
  align-items: center;
  gap: 6px;
}

.article-author svg {
  width: 14px;
  height: 14px;
}

.article-title {
  font-size: 22px;
  font-weight: 700;
  color: var(--blog-text);
  margin: 0 0 12px 0;
  line-height: 1.3;
  letter-spacing: -0.01em;
}

.article-title a {
  color: inherit;
  text-decoration: none;
}

.article-excerpt {
  font-size: 16px;
  color: var(--blog-text-secondary);
  line-height: 1.6;
  margin-bottom: 20px;
  flex: 1;
}

.article-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--blog-primary);
  font-size: 15px;
  font-weight: 600;
  text-decoration: none;
}

.article-link svg {
  width: 16px;
  height: 16px;
}

/* Empty State */
.blog-empty {
  text-align: center;
  padding: 80px 20px;
}

.blog-empty svg {
  width: 80px;
  height: 80px;
  color: var(--blog-text-secondary);
  margin-bottom: 24px;
}

.blog-empty h3 {
  font-size: 24px;
  color: var(--blog-text);
  margin: 0 0 12px 0;
}

.blog-empty p {
  font-size: 16px;
  color: var(--blog-text-secondary);
  margin: 0;
}

/* Load More Button */
.blog-load-more {
  text-align: center;
  margin-top: 40px;
}

.load-more-btn {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 16px 32px;
  background: var(--blog-primary);
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.load-more-btn:hover {
  background: var(--blog-primary-dark);
  transform: translateY(-2px);
}

.load-more-btn svg {
  width: 20px;
  height: 20px;
}

/* Mobile Responsive */
@media (max-width: 1024px) {
  .blog-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .blog-section {
    padding: 40px 0;
  }
  
  .blog-container {
    padding: 0 20px;
  }
  
  .blog-header {
    margin-bottom: 48px;
  }
  
  .blog-grid {
    grid-template-columns: 1fr;
    gap: 24px;
  }
  
  .article-title {
    font-size: 20px;
  }
}
</style>

<section class="blog-section">
  <div class="blog-container">
    
    <!-- Header -->
    <div class="blog-header">
      <h1 class="blog-title">{{ blog.title }}</h1>
      {% if blog.description != blank %}
        <p class="blog-subtitle">{{ blog.description }}</p>
      {% endif %}
    </div>
    
    {% comment %}
      WICHTIG: Kein {% paginate %} Tag hier!
      Wir zeigen einfach die ersten X Artikel ohne Pagination
    {% endcomment %}
    
    {% if blog.articles.size > 0 %}
      <!-- Articles Grid -->
      <div class="blog-grid">
        {% for article in blog.articles limit: 12 %}
          <article class="article-card">
            <!-- Image -->
            <div class="article-image-wrapper">
              {% if article.image %}
                <img 
                  src="{{ article.image | image_url: width: 800 }}"
                  alt="{{ article.image.alt | escape }}"
                  class="article-image"
                  loading="lazy"
                >
              {% else %}
                <img 
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 450'%3E%3Crect fill='%23f0f0f0' width='800' height='450'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='system-ui' font-size='32' fill='%23999'%3ESimbye%3C/text%3E%3C/svg%3E"
                  alt="Simbye Blog"
                  class="article-image"
                >
              {% endif %}
            </div>
            
            <!-- Content -->
            <div class="article-content">
              <!-- Meta -->
              <div class="article-meta">
                <div class="article-date">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                  </svg>
                  {{ article.published_at | date: '%b %d, %Y' }}
                </div>
                
                {% if article.author != blank %}
                  <div class="article-author">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                      <circle cx="12" cy="7" r="4"/>
                    </svg>
                    {{ article.author }}
                  </div>
                {% endif %}
              </div>
              
              <!-- Title -->
              <h2 class="article-title">
                <a href="{{ article.url }}">{{ article.title }}</a>
              </h2>
              
              <!-- Excerpt -->
              {% if article.excerpt != blank %}
                <div class="article-excerpt">
                  {{ article.excerpt | strip_html | truncate: 140 }}
                </div>
              {% endif %}
              
              <!-- Read More -->
              <a href="{{ article.url }}" class="article-link">
                Read More
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
              </a>
            </div>
          </article>
        {% endfor %}
      </div>
      
      {% comment %}
        Optional: "View All Articles" Button statt Pagination
      {% endcomment %}
      {% if blog.articles.size > 12 %}
        <div class="blog-load-more">
          <p style="color: var(--blog-text-secondary); margin-bottom: 20px;">
            Showing 12 of {{ blog.articles.size }} articles
          </p>
          <a href="{{ blog.url }}" class="load-more-btn">
            View All Articles
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </a>
        </div>
      {% endif %}
      
    {% else %}
      <!-- Empty State -->
      <div class="blog-empty">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9.5a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
        </svg>
        <h3>No Articles Yet</h3>
        <p>Check back soon for travel tips and eSIM guides!</p>
      </div>
    {% endif %}
    
  </div>
</section>

{% schema %}
{
  "name": "Blog",
  "settings": [
    {
      "type": "range",
      "id": "articles_per_page",
      "label": "Articles to show",
      "min": 6,
      "max": 24,
      "step": 3,
      "default": 12
    }
  ]
}
{% endschema %}