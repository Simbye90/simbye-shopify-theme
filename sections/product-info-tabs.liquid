<!-- sections/product-info-tabs.liquid -->
<!-- SIMBYE PRODUCT INFO TABS ENTERPRISE V2.0 -->

<style>
/* ============================================
   PRODUCT INFO TABS - ENTERPRISE LEVEL V2
   MOBILE FIRST + KEINE HOVER EFFEKTE
   ============================================ */

/* Kill Shopify Grid für diese Section */
.shopify-section:has(.product-info-tabs-section) {
  display: block !important;
  padding: 0 !important;
  margin: 0 !important;
  grid-template-columns: unset !important;
}

/* Section Base - FLEXIBLE HEIGHT */
.product-info-tabs-section {
  width: 100%;
  background: #ffffff;
  padding: 40px 0;
  position: relative;
  overflow: visible; /* Kein overflow hidden! */
}

[data-theme="dark"] .product-info-tabs-section {
  background: #0a0a0a;
}

/* Container - Responsive */
.info-tabs-container {
  max-width: 1600px;
  margin: 0 auto;
  padding: 0 20px;
}

@media (min-width: 768px) {
  .product-info-tabs-section {
    padding: 80px 0;
  }
  
  .info-tabs-container {
    padding: 0 40px;
  }
}

/* Tab Navigation */
.info-tab-nav {
  display: flex;
  flex-direction: row; /* Auch auf Mobile nebeneinander! */
  gap: 4px;
  background: rgba(0, 154, 97, 0.05);
  padding: 4px;
  border-radius: 16px;
  border: 1px solid rgba(0, 154, 97, 0.1);
  margin-bottom: 32px;
}

@media (min-width: 768px) {
  .info-tab-nav {
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 48px;
  }
}

.info-tab-button {
  flex: 1;
  padding: 14px 16px;
  background: transparent;
  border: none;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  color: #666;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: inherit;
  -webkit-tap-highlight-color: transparent;
}

@media (min-width: 768px) {
  .info-tab-button {
    padding: 18px 32px;
    font-size: 18px;
    gap: 12px;
  }
}

/* Mobile: Nur Icons zeigen, Text verstecken für Platz */
@media (max-width: 480px) {
  .info-tab-button span {
    display: none;
  }
  
  .info-tab-icon {
    width: 24px;
    height: 24px;
  }
  
  .info-tab-button {
    padding: 16px;
  }
}

/* Tablet und größer: Text und Icon */
@media (min-width: 481px) {
  .info-tab-button span {
    display: inline;
  }
}

[data-theme="dark"] .info-tab-button {
  color: #a0a0a0;
}

/* Kein Hover auf Mobile, nur active state */
@media (hover: hover) {
  .info-tab-button:hover {
    background: rgba(0, 154, 97, 0.08);
    color: #1a1a1a;
  }
  
  [data-theme="dark"] .info-tab-button:hover {
    color: #ffffff;
  }
}

.info-tab-button.active {
  background: #009a61;
  color: white;
  box-shadow: 0 4px 12px rgba(0, 154, 97, 0.3);
}

.info-tab-icon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* Tab Content */
.info-tab-content {
  display: none;
  animation: fadeInUp 0.4s ease;
}

.info-tab-content.active {
  display: block;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Features Tab - NUR 3 CARDS */
.features-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
  margin-bottom: 32px;
}

@media (min-width: 768px) {
  .features-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
    margin-bottom: 48px;
  }
}

.feature-card {
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 16px;
  padding: 24px;
  transition: none; /* Keine Transition! */
  cursor: default; /* Kein Pointer! */
}

@media (min-width: 768px) {
  .feature-card {
    padding: 32px;
  }
}

[data-theme="dark"] .feature-card {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.08);
}

/* KEINE HOVER EFFEKTE für Cards! */

/* Feature Cards mit Icons neben Titel */
.feature-title-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.feature-icon {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, #009a61, #00d97e);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

@media (min-width: 768px) {
  .feature-icon {
    width: 56px;
    height: 56px;
    border-radius: 16px;
  }
}

.feature-icon svg {
  width: 24px;
  height: 24px;
  color: white;
}

@media (min-width: 768px) {
  .feature-icon svg {
    width: 28px;
    height: 28px;
  }
}

.feature-title {
  font-size: 18px;
  font-weight: 700;
  color: #1a1a1a;
  margin-bottom: 12px;
  line-height: 1.2;
}

@media (min-width: 768px) {
  .feature-title {
    font-size: 20px;
  }
}

[data-theme="dark"] .feature-title {
  color: #ffffff;
}

.feature-description {
  font-size: 15px;
  color: #666;
  line-height: 1.6;
}

@media (min-width: 768px) {
  .feature-description {
    font-size: 16px;
  }
}

[data-theme="dark"] .feature-description {
  color: #a0a0a0;
}

/* Compatibility Button Section */
.compatibility-section {
  text-align: center;
  padding: 32px 24px;
  background: linear-gradient(135deg, rgba(0, 154, 97, 0.05) 0%, rgba(0, 217, 126, 0.05) 100%);
  border-radius: 20px;
  border: 2px dashed #009a61;
}

@media (min-width: 768px) {
  .compatibility-section {
    padding: 48px;
    border-radius: 24px;
  }
}

.compatibility-title {
  font-size: 24px;
  font-weight: 700;
  color: #1a1a1a;
  margin-bottom: 12px;
  line-height: 1.2;
}

@media (min-width: 768px) {
  .compatibility-title {
    font-size: 28px;
    margin-bottom: 16px;
  }
}

[data-theme="dark"] .compatibility-title {
  color: #ffffff;
}

.compatibility-subtitle {
  font-size: 16px;
  color: #666;
  margin-bottom: 24px;
  line-height: 1.5;
}

@media (min-width: 768px) {
  .compatibility-subtitle {
    font-size: 18px;
    margin-bottom: 32px;
  }
}

[data-theme="dark"] .compatibility-subtitle {
  color: #a0a0a0;
}

.check-compatibility-btn {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 16px 32px;
  background: linear-gradient(135deg, #009a61, #00d97e);
  color: white;
  border: none;
  border-radius: 100px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  -webkit-tap-highlight-color: transparent;
}

@media (min-width: 768px) {
  .check-compatibility-btn {
    padding: 20px 48px;
    font-size: 18px;
  }
}

.check-compatibility-btn:active {
  transform: scale(0.98);
}

@media (hover: hover) {
  .check-compatibility-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px rgba(0, 154, 97, 0.35);
  }
}

/* Description Tab - ECHTE PRODUKTBESCHREIBUNG */
.description-content {
  max-width: 800px;
  margin: 0 auto;
  background: #ffffff;
  border-radius: 20px;
  padding: 32px 24px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
}

@media (min-width: 768px) {
  .description-content {
    border-radius: 24px;
    padding: 48px;
  }
}

[data-theme="dark"] .description-content {
  background: rgba(255, 255, 255, 0.03);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.description-content h3 {
  font-size: 20px;
  font-weight: 700;
  color: #009a61;
  margin-bottom: 20px;
  line-height: 1.2;
}

@media (min-width: 768px) {
  .description-content h3 {
    font-size: 24px;
    margin-bottom: 24px;
  }
}

.description-text {
  font-size: 15px;
  line-height: 1.8;
  color: #666;
  margin-bottom: 20px;
  white-space: pre-line;
}

@media (min-width: 768px) {
  .description-text {
    font-size: 16px;
  }
}

[data-theme="dark"] .description-text {
  color: #a0a0a0;
}

/* Technical Specs Tab */
.specs-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0;
  background: #ffffff;
  border-radius: 20px;
  padding: 24px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
}

@media (min-width: 768px) {
  .specs-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 24px;
    border-radius: 24px;
    padding: 48px;
  }
}

@media (min-width: 1200px) {
  .specs-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

[data-theme="dark"] .specs-grid {
  background: rgba(255, 255, 255, 0.03);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.spec-item {
  padding: 16px 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

@media (min-width: 768px) {
  .spec-item {
    padding: 20px 0;
  }
}

[data-theme="dark"] .spec-item {
  border-color: rgba(255, 255, 255, 0.08);
}

.spec-item:last-child {
  border-bottom: none;
}

.spec-label {
  font-size: 13px;
  font-weight: 600;
  color: #666;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

@media (min-width: 768px) {
  .spec-label {
    font-size: 14px;
    margin-bottom: 8px;
  }
}

[data-theme="dark"] .spec-label {
  color: #a0a0a0;
}

.spec-value {
  font-size: 16px;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

@media (min-width: 768px) {
  .spec-value {
    font-size: 18px;
  }
}

[data-theme="dark"] .spec-value {
  color: #ffffff;
}

.spec-value.yes {
  color: #009a61;
}

.spec-value.no {
  color: #ff4757;
}

/* Compatibility Modal - MOBILE OPTIMIERT */
.compatibility-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: 10000;
  padding: 20px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.compatibility-modal.active {
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: #ffffff;
  border-radius: 20px;
  width: 100%;
  max-width: 900px;
  max-height: 90vh;
  overflow: hidden;
  position: relative;
  animation: slideUp 0.3s ease;
}

@media (min-width: 768px) {
  .modal-content {
    border-radius: 24px;
  }
}

[data-theme="dark"] .modal-content {
  background: #1a1a1a;
}

@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-header {
  padding: 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  position: relative;
}

@media (min-width: 768px) {
  .modal-header {
    padding: 32px;
  }
}

[data-theme="dark"] .modal-header {
  border-color: rgba(255, 255, 255, 0.08);
}

.modal-title {
  font-size: 24px;
  font-weight: 700;
  color: #1a1a1a;
  margin: 0;
  padding-right: 48px;
  line-height: 1.2;
}

@media (min-width: 768px) {
  .modal-title {
    font-size: 28px;
  }
}

[data-theme="dark"] .modal-title {
  color: #ffffff;
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.05);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

@media (min-width: 768px) {
  .modal-close {
    top: 24px;
    right: 24px;
    width: 48px;
    height: 48px;
  }
}

[data-theme="dark"] .modal-close {
  background: rgba(255, 255, 255, 0.05);
}

.modal-close:active {
  transform: scale(0.9);
}

@media (hover: hover) {
  .modal-close:hover {
    background: rgba(0, 0, 0, 0.1);
    transform: rotate(90deg);
  }
}

.modal-close svg {
  width: 20px;
  height: 20px;
}

@media (min-width: 768px) {
  .modal-close svg {
    width: 24px;
    height: 24px;
  }
}

/* Device Tabs - MOBILE NEBENEINANDER */
.device-tabs {
  background: #1a1a1a;
  border-radius: 100px;
  padding: 4px;
  display: flex;
  flex-direction: row; /* Auch auf Mobile nebeneinander! */
  gap: 4px;
  margin: 24px;
}

@media (min-width: 768px) {
  .device-tabs {
    margin: 32px;
  }
}

.device-tab {
  flex: 1;
  padding: 14px 24px;
  background: transparent;
  border: none;
  border-radius: 100px;
  color: #999;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
}

@media (min-width: 768px) {
  .device-tab {
    padding: 16px 32px;
    font-size: 18px;
  }
}

.device-tab:active {
  transform: scale(0.98);
}

@media (hover: hover) {
  .device-tab:hover {
    color: #ffffff;
  }
}

.device-tab.active {
  background: #00ff88;
  color: #000000;
}

/* Device List */
.device-content {
  padding: 24px;
  max-height: 350px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

@media (min-width: 768px) {
  .device-content {
    padding: 32px;
  }
}

.device-list {
  display: none;
  grid-template-columns: 1fr;
  gap: 12px;
}

@media (min-width: 768px) {
  .device-list {
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }
}

@media (min-width: 1024px) {
  .device-list {
    grid-template-columns: repeat(3, 1fr);
  }
}

.device-list.active {
  display: grid;
}

.device-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px;
  background: rgba(0, 0, 0, 0.03);
  border-radius: 12px;
  font-size: 15px;
  color: #1a1a1a;
}

@media (min-width: 768px) {
  .device-item {
    padding: 16px;
    font-size: 16px;
  }
}

[data-theme="dark"] .device-item {
  background: rgba(255, 255, 255, 0.03);
  color: #ffffff;
}

.device-icon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  opacity: 0.7;
}

@media (min-width: 768px) {
  .device-icon {
    width: 24px;
    height: 24px;
  }
}

.compatibility-note {
  padding: 16px;
  margin: 24px;
  background: rgba(255, 193, 7, 0.1);
  border: 1px solid rgba(255, 193, 7, 0.3);
  border-radius: 12px;
  color: #856404;
  text-align: center;
  font-size: 13px;
  line-height: 1.5;
}

@media (min-width: 768px) {
  .compatibility-note {
    padding: 20px;
    margin: 32px;
    font-size: 14px;
  }
}

[data-theme="dark"] .compatibility-note {
  color: #ffc107;
}
</style>

<!-- HTML Structure -->
<section class="product-info-tabs-section">
  <div class="info-tabs-container">
    
    <!-- Tab Navigation -->
    <div class="info-tab-nav">
      <button class="info-tab-button active" data-tab="features">
        <svg class="info-tab-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
        <span>{{ 'product.tab_features' | t | default: 'Features' }}</span>
      </button>
      
      <button class="info-tab-button" data-tab="description">
        <svg class="info-tab-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
        </svg>
        <span>{{ 'product.tab_description' | t | default: 'Description' }}</span>
      </button>
      
      <button class="info-tab-button" data-tab="specs">
        <svg class="info-tab-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 3.95-.236.478-.497 1.01-.787 1.64M11.42 15.17L2.25 6" />
        </svg>
        <span>{{ 'product.tab_technical' | t | default: 'Technical Specs' }}</span>
      </button>
    </div>
    
    <!-- Tab Content -->
    
    <!-- Features Tab - NUR 3 CARDS -->
    <div class="info-tab-content active" id="features-content">
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-title-row">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
              </svg>
            </div>
            <h3 class="feature-title">{{ 'product.feature_recharge_title' | t | default: 'Rechargeable eSIM' }}</h3>
          </div>
          <p class="feature-description">{{ 'product.feature_recharge_desc' | t | default: 'Top up your eSIM anytime from your account. No need to buy a new eSIM when data runs out.' }}</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-title-row">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
              </svg>
            </div>
            <h3 class="feature-title">{{ 'product.feature_money_back_title' | t | default: 'Money-Back Guarantee' }}</h3>
          </div>
          <p class="feature-description">{{ 'product.feature_money_back_desc' | t | default: '30-day money-back guarantee. Not satisfied? Get a full refund, no questions asked.' }}</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-title-row">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
              </svg>
            </div>
            <h3 class="feature-title">{{ 'product.feature_no_contract_title' | t | default: 'No Contract Required' }}</h3>
          </div>
          <p class="feature-description">{{ 'product.feature_no_contract_desc' | t | default: 'Prepaid eSIM with no commitments. Cancel anytime, no hidden fees or long-term contracts.' }}</p>
        </div>
      </div>
      
      <!-- Check Compatibility Section -->
      <div class="compatibility-section">
        <h2 class="compatibility-title">{{ 'product.compatibility_title' | t | default: 'Check Device Compatibility' }}</h2>
        <p class="compatibility-subtitle">{{ 'product.compatibility_subtitle' | t | default: 'Make sure your device supports eSIM before purchasing' }}</p>
        <button class="check-compatibility-btn" onclick="openCompatibilityModal()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 24px; height: 24px;">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
          </svg>
          <span>{{ 'product.check_compatibility' | t | default: 'Check Compatibility' }}</span>
        </button>
      </div>
    </div>
    
    <!-- Description Tab - ECHTE PRODUKTBESCHREIBUNG -->
    <div class="info-tab-content" id="description-content">
      <div class="description-content">
        <h3>{{ 'product.why_choose' | t: product: product.title | default: 'Why choose our eSIM?' }}</h3>
        
        <!-- Vollständige Produktbeschreibung -->
        <div class="description-text">
          {{ product.description | strip_html }}
        </div>
        
        <!-- Zusätzliche Metafield Beschreibung falls vorhanden -->
        {% if product.metafields.custom.description %}
          <div class="description-text">
            {{ product.metafields.custom.description }}
          </div>
        {% endif %}
      </div>
    </div>
    
    <!-- Technical Specs Tab - MIT KORREKTEN METAFIELDS -->
    <div class="info-tab-content" id="specs-content">
      <div class="specs-grid">
        <!-- Network -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_network' | t | default: 'Network' }}</div>
          <div class="spec-value">{{ product.metafields.custom.plantyp | default: '4G/5G Premium' }}</div>
        </div>
        
        <!-- Speed -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_speed' | t | default: 'Speed' }}</div>
          <div class="spec-value">4G/5G</div>
        </div>
        
        <!-- Coverage -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_coverage' | t | default: 'Coverage' }}</div>
          <div class="spec-value">{{ product.metafields.custom.aktivierungspolitik | default: '98% Country Coverage' }}</div>
        </div>
        
        <!-- Data Plans -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_plans' | t | default: 'Data Plans' }}</div>
          <div class="spec-value">
            {% assign datalist = "" %}
            {% for variant in product.variants %}
              {% assign data_value = variant.metafields.custom.data_ | replace: " ", "" %}
              {% unless data_value == "100MB" or data_value == blank or data_value == nil %}
                {% if datalist == "" %}
                  {% assign datalist = data_value %}
                {% else %}
                  {% unless datalist contains data_value %}
                    {% assign datalist = datalist | append: ", " | append: data_value %}
                  {% endunless %}
                {% endif %}
              {% endunless %}
            {% endfor %}
            
            {% if datalist == "" %}
              {% comment %} Fallback wenn keine Metafields vorhanden {% endcomment %}
              {% for variant in product.variants %}
                {% unless variant.title contains '100MB' %}
                  {% assign size = variant.title | split: ' ' | first %}
                  {% if datalist == "" %}
                    {% assign datalist = size %}
                  {% else %}
                    {% unless datalist contains size %}
                      {% assign datalist = datalist | append: ", " | append: size %}
                    {% endunless %}
                  {% endif %}
                {% endunless %}
              {% endfor %}
            {% endif %}
            
            {{ datalist }}
            
            {% comment %} Check für Unlimited {% endcomment %}
            {% for variant in product.variants %}
              {% if variant.sku contains 'unlimited' or variant.sku contains 'daily' or variant.sku contains 'Daily' %}
                , Unlimited
                {% break %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
        
        <!-- Validity after Activation -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_validity' | t | default: 'Validity after Activation' }}</div>
          <div class="spec-value">
            {% assign first_title_parts = product.variants.first.title | split: " " %}
            {% assign last_title_parts = product.variants.last.title | split: " " %}
            
            {% assign first_index = first_title_parts.size | minus: 2 %}
            {% assign last_index = last_title_parts.size | minus: 2 %}
            
            {% assign first_days = first_title_parts[first_index] %}
            {% assign last_days = last_title_parts[last_index] %}
            
            {% if product.variants.size > 1 and first_days != last_days %}
              {{ first_days }}-{{ last_days }} {{ 'product.days' | t | default: 'Days' }}
            {% else %}
              {{ first_days }} {{ 'product.days' | t | default: 'Days' }}
            {% endif %}
          </div>
        </div>
        
        <!-- Hotspot -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_hotspot' | t | default: 'Hotspot' }}</div>
          <div class="spec-value yes">{{ 'product.yes' | t | default: 'Yes' }}</div>
        </div>
        
        <!-- Voice Calls -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_voice' | t | default: 'Voice Call' }}</div>
          <div class="spec-value no">✗ {{ 'product.spec_voice_apps' | t | default: 'Voice apps only' }}</div>
        </div>
        
        <!-- Plan Type -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_plantype' | t | default: 'Plan Type' }}</div>
          <div class="spec-value">Prepaid eSIM</div>
        </div>
        
        <!-- eKYC -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_ekyc' | t | default: 'eKYC (Identity Verification)' }}</div>
          <div class="spec-value no">✗ {{ 'product.no' | t | default: 'No' }}</div>
        </div>
        
        <!-- Delivery -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_delivery' | t | default: 'Delivery' }}</div>
          <div class="spec-value">{{ 'product.instant' | t | default: 'Immediately after purchase' }}</div>
        </div>
        
        <!-- Phone Number -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_phone' | t | default: 'Phone Number' }}</div>
          <div class="spec-value no">✗ {{ 'product.no' | t | default: 'No' }}</div>
        </div>
        
        <!-- eSIM Validity -->
        <div class="spec-item">
          <div class="spec-label">{{ 'product.spec_esim_validity' | t | default: 'eSIM Validity' }}</div>
          <div class="spec-value">180 {{ 'product.days' | t | default: 'Days' }}</div>
        </div>
      </div>
    </div>
    
  </div>
</section>

<!-- Compatibility Modal -->
<div class="compatibility-modal" id="compatibility-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">{{ 'product.compatibility_modal_title' | t | default: 'Check eSIM Compatibility' }}</h2>
      <button class="modal-close" onclick="closeCompatibilityModal()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    
    <div class="device-tabs">
      <button class="device-tab active" data-device="ios">Apple iOS</button>
      <button class="device-tab" data-device="android">Android</button>
    </div>
    
    <div class="device-content">
      <!-- iOS Devices -->
      <div class="device-list active" id="ios-devices">
        {% assign ios_devices = "iPhone 16 Pro Max,iPhone 16 Pro,iPhone 16 Plus,iPhone 16,iPhone 15 Pro Max,iPhone 15 Pro,iPhone 15 Plus,iPhone 15,iPhone 14 Pro Max,iPhone 14 Pro,iPhone 14 Plus,iPhone 14,iPhone 13 Pro Max,iPhone 13 Pro,iPhone 13 Mini,iPhone 13,iPhone 12 Pro Max,iPhone 12 Pro,iPhone 12 Mini,iPhone 12,iPhone 11 Pro Max,iPhone 11 Pro,iPhone 11,iPhone SE (2022),iPhone SE (2020),iPhone XR,iPhone XS Max,iPhone XS,iPad Pro 12.9 (3rd gen+),iPad Pro 11 (all),iPad Air (3rd gen+),iPad Mini (5th gen+)" | split: ',' %}
        {% for device in ios_devices %}
          <div class="device-item">
            <svg class="device-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09l-.05-.01zM12 7.25c-.16-2.5 1.92-4.55 4.34-4.75.29 2.72-2.49 4.98-4.34 4.75z"/>
            </svg>
            <span>{{ device }}</span>
          </div>
        {% endfor %}
      </div>
      
      <!-- Android Devices -->
      <div class="device-list" id="android-devices">
        {% assign android_devices = "Samsung Galaxy S24 Ultra,Samsung Galaxy S24+,Samsung Galaxy S24,Samsung Galaxy S23 Ultra,Samsung Galaxy S23+,Samsung Galaxy S23,Samsung Galaxy S22 Ultra,Samsung Galaxy S22+,Samsung Galaxy S22,Samsung Galaxy S21 Ultra,Samsung Galaxy S21+,Samsung Galaxy S21,Samsung Galaxy S20 Ultra,Samsung Galaxy S20+,Samsung Galaxy S20,Samsung Galaxy Z Fold 5,Samsung Galaxy Z Fold 4,Samsung Galaxy Z Fold 3,Samsung Galaxy Z Flip 5,Samsung Galaxy Z Flip 4,Samsung Galaxy Z Flip 3,Samsung Galaxy Note 20 Ultra,Samsung Galaxy Note 20,Samsung Galaxy A54,Samsung Galaxy A34,Google Pixel 8 Pro,Google Pixel 8,Google Pixel 7a,Google Pixel 7 Pro,Google Pixel 7,Google Pixel 6a,Google Pixel 6 Pro,Google Pixel 6,Google Pixel 5,Google Pixel 4a,Google Pixel 4 XL,Google Pixel 4,Google Pixel 3a XL,Google Pixel 3a,Google Pixel 3 XL,Google Pixel 3,OnePlus 12,OnePlus 11,OnePlus 10 Pro,OnePlus 10T,OnePlus 9 Pro,OnePlus 9,OnePlus 8T,OnePlus 8 Pro,OnePlus 8,Xiaomi 14 Pro,Xiaomi 14,Xiaomi 13 Pro,Xiaomi 13,Xiaomi 12 Pro,Xiaomi 12,OPPO Find X5 Pro,OPPO Find X5,OPPO Find X3 Pro,OPPO Reno 10 Pro,OPPO Reno 9 Pro,Honor Magic 5 Pro,Honor 90,Honor 70,Motorola Edge 40 Pro,Motorola Edge 30 Pro,Motorola Razr 40 Ultra,Motorola Razr 40,Sony Xperia 1 V,Sony Xperia 1 IV,Sony Xperia 5 V,Sony Xperia 10 V,Huawei P50 Pro,Huawei P40 Pro+,Huawei P40 Pro,Huawei P40,Huawei Mate 40 Pro" | split: ',' %}
        {% for device in android_devices %}
          <div class="device-item">
            <svg class="device-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"/>
            </svg>
            <span>{{ device }}</span>
          </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="compatibility-note">
      {{ 'product.compatibility_note' | t | default: 'If your device model is NOT in the list, it was not built to support eSIM.' }}
    </div>
  </div>
</div>

<script>
// Tab Switching
document.querySelectorAll('.info-tab-button').forEach(button => {
  button.addEventListener('click', function() {
    const targetTab = this.dataset.tab;
    
    // Update buttons
    document.querySelectorAll('.info-tab-button').forEach(btn => {
      btn.classList.remove('active');
    });
    this.classList.add('active');
    
    // Update content
    document.querySelectorAll('.info-tab-content').forEach(content => {
      content.classList.remove('active');
    });
    document.getElementById(targetTab + '-content').classList.add('active');
  });
});

// Compatibility Modal
function openCompatibilityModal() {
  document.getElementById('compatibility-modal').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeCompatibilityModal() {
  document.getElementById('compatibility-modal').classList.remove('active');
  document.body.style.overflow = '';
}

// Device Tab Switching
document.querySelectorAll('.device-tab').forEach(tab => {
  tab.addEventListener('click', function() {
    const device = this.dataset.device;
    
    // Update tabs
    document.querySelectorAll('.device-tab').forEach(t => {
      t.classList.remove('active');
    });
    this.classList.add('active');
    
    // Update lists
    document.querySelectorAll('.device-list').forEach(list => {
      list.classList.remove('active');
    });
    document.getElementById(device + '-devices').classList.add('active');
  });
});

// Close on backdrop click
document.getElementById('compatibility-modal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeCompatibilityModal();
  }
});

// Escape key close
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeCompatibilityModal();
  }
});
</script>

{% schema %}
{
  "name": "Product Info Tabs",
  "settings": [],
  "presets": [
    {
      "name": "Product Info Tabs"
    }
  ]
}
{% endschema %}