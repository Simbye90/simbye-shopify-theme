<!-- sections/network-carousel.liquid -->
<!-- ENTERPRISE NETWORK PARTNERS - INFINITE CAROUSEL -->

<style>
/* CSS Variables */
:root {
  --carousel-bg: #ffffff;
  --logo-filter: grayscale(100%) opacity(0.6);
  --logo-hover-filter: grayscale(0%) opacity(1);
  --carousel-speed: 40s;
  --carousel-height: 120px; /* Höher für Padding-Ersatz */
  --logo-width: 150px;
  --logo-gap: 60px;
}

/* Dark Mode */
[data-theme="dark"] {
  --carousel-bg: transparent; /* Transparent für Gradient */
  /* Option 1: Alle Logos farbig mit Brightness */
  --logo-filter: grayscale(0%) opacity(0.7) brightness(1.8) contrast(1.2);
  --logo-hover-filter: grayscale(0%) opacity(1) brightness(2) contrast(1.3);
  
  /* Option 2: Grayscale (auskommentiert) */
  /* --logo-filter: grayscale(100%) opacity(0.7) brightness(1.5); */
  /* --logo-hover-filter: grayscale(50%) opacity(1) brightness(1.8); */
}

/* Main Section */
.network-carousel-section {
  width: 100vw; /* VOLLE VIEWPORT BREITE */
  position: relative;
  left: 50%; /* Positionierung für Full Width */
  right: 50%;
  margin-left: -50vw; /* Negative Margin für Full Width */
  margin-right: -50vw;
  padding: 0; /* KEIN PADDING */
  background: #ffffff; /* Explizit weiß für Light Mode */
  overflow: hidden;
  transition: background 0.3s ease;
}

/* Mobile Fix - Überschreibt die Desktop Full-Width Methode */
@media (max-width: 768px) {
  .network-carousel-section {
    left: 0; /* Reset Position */
    right: 0;
    margin-left: 0; /* Reset Margin */
    margin-right: 0;
    width: 100%; /* Normale 100% statt 100vw */
  }
}

/* Dark Mode Gradient - NAHTLOSER ÜBERGANG von Why-Simbye */
[data-theme="dark"] .network-carousel-section {
  background: linear-gradient(180deg,
    #040404 0%,      /* Start: Kommt von Why-Simbye */
    #040404 30%,     /* Bleibt schwarz */
    #050505 60%,     /* Minimal heller */
    #040404 100%     /* Ende: Reines Schwarz */
  );
}

/* Gradient Masks KOMPLETT ENTFERNT für volle Breite */
.network-carousel-section::before,
.network-carousel-section::after {
  display: none; /* KEINE FADE MASKS MEHR */
}

/* Carousel Container */
.carousel-container {
  position: relative;
  width: 100vw; /* VOLLE VIEWPORT BREITE */
  height: var(--carousel-height);
  margin: 0;
  padding: 0; /* KEIN PADDING */
  overflow: hidden;
  display: flex;
  align-items: center; /* Vertikal zentriert */
}

/* Mobile Container Fix */
@media (max-width: 768px) {
  .carousel-container {
    width: 100%; /* Normale Breite auf Mobile */
    left: 0;
    position: relative;
  }
}

/* Carousel Track */
.carousel-track {
  display: flex;
  align-items: center;
  height: 100%;
  width: fit-content;
  animation: scroll var(--carousel-speed) linear infinite;
  padding: 0; /* Kein Padding */
}

/* Pause on Hover (optional) */
.carousel-container:hover .carousel-track {
  animation-play-state: paused;
}

/* Logo Items */
.logo-item {
  flex: 0 0 auto;
  width: var(--logo-width);
  height: var(--carousel-height);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: var(--logo-gap);
  cursor: pointer;
  transition: all 0.3s ease;
}

.logo-item img {
  max-width: 120px;
  max-height: 60px;
  width: auto;
  height: auto;
  object-fit: contain;
  filter: var(--logo-filter);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
}

/* Text Logos für Orange & Verizon */
.logo-item.text-logo {
  position: relative;
}

.logo-text {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.02em;
  color: #999; /* Grau wie andere Logos */
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  opacity: 0.6; /* Gleiche Opacity wie andere Logos */
}

/* Hover - Logos werden farbig */
.logo-item.text-logo:hover .logo-text {
  transform: scale(1.1) translateY(-2px);
  opacity: 1;
}

/* Orange - bei Hover */
.logo-item.text-logo:nth-child(5):hover .logo-text,
.logo-item.text-logo:nth-child(17):hover .logo-text {
  color: #ff6900;
}

/* Verizon - bei Hover */
.logo-item.text-logo:nth-child(6):hover .logo-text,
.logo-item.text-logo:nth-child(18):hover .logo-text {
  color: #ed1c24;
}

/* Dark Mode Text Logos */
[data-theme="dark"] .logo-text {
  color: #ccc;
  opacity: 0.7;
}

/* Dark Mode - Orange immer orange */
[data-theme="dark"] .logo-item.text-logo:nth-child(5) .logo-text,
[data-theme="dark"] .logo-item.text-logo:nth-child(17) .logo-text {
  color: #ff8a33;
  opacity: 0.7;
}

/* Dark Mode - Verizon immer rot */
[data-theme="dark"] .logo-item.text-logo:nth-child(6) .logo-text,
[data-theme="dark"] .logo-item.text-logo:nth-child(18) .logo-text {
  color: #ff4747;
  opacity: 0.7;
}

/* Dark Mode Hover */
[data-theme="dark"] .logo-item.text-logo:hover .logo-text {
  opacity: 1;
}

/* Hover Effects */
.logo-item:hover img {
  filter: var(--logo-hover-filter);
  transform: scale(1.1) translateY(-2px);
}

/* Special filter for problem logos in dark mode - jetzt ohne Orange/Verizon */
[data-theme="dark"] .logo-item img[alt="Vodafone"],
[data-theme="dark"] .logo-item img[alt="Airtel"] {
  filter: grayscale(0%) opacity(0.85) brightness(2.2) contrast(1.4) saturate(1.2);
}

[data-theme="dark"] .logo-item:hover img[alt="Vodafone"],
[data-theme="dark"] .logo-item:hover img[alt="Airtel"] {
  filter: grayscale(0%) opacity(1) brightness(2.5) contrast(1.5) saturate(1.3);
}

/* Infinite Scroll Animation */
@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

/* Trust Badge (Optional Zusatz) */
.carousel-trust-badge {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #ffffff;
  padding: 8px 24px;
  border-radius: 100px;
  font-size: 14px;
  font-weight: 600;
  color: #009a61;
  z-index: 3;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  white-space: nowrap;
  box-shadow: 0 4px 12px rgba(0, 154, 97, 0.15);
}

[data-theme="dark"] .carousel-trust-badge {
  background: rgba(26, 26, 26, 0.9);
  color: #00d97e;
  border: 1px solid rgba(0, 217, 126, 0.2);
  backdrop-filter: blur(10px);
}

/* Show badge on section hover */
.network-carousel-section:hover .carousel-trust-badge {
  opacity: 1;
}

/* Mobile Optimizations */
@media (max-width: 768px) {
  :root {
    --carousel-speed: 30s;
    --carousel-height: 100px; /* Angepasste Höhe */
    --logo-width: 120px;
    --logo-gap: 40px;
  }
  
  .network-carousel-section {
    padding: 0; /* KEIN PADDING */
    margin: 0;
    left: 0 !important; /* Force Reset */
    right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
  }
  
  .carousel-container {
    padding: 0; /* KEIN PADDING */
    width: 100%; /* Normale 100% statt 100vw */
    left: 0;
    right: 0;
  }
  
  /* Keine Fade Masks mehr nötig */
  .network-carousel-section::before,
  .network-carousel-section::after {
    display: none;
  }
  
  .logo-item img {
    max-width: 100px;
    max-height: 50px;
  }
  
  /* Text Logos auf Mobile */
  .logo-text {
    font-size: 24px;
  }
  
  /* Hide trust badge on mobile */
  .carousel-trust-badge {
    display: none;
  }
}

/* Very Small Screens */
@media (max-width: 480px) {
  :root {
    --carousel-speed: 25s;
    --carousel-height: 80px; /* Kleinere Höhe */
    --logo-width: 100px;
    --logo-gap: 30px;
  }
  
  .network-carousel-section {
    padding: 0; /* KEIN PADDING */
    margin: 0;
    left: 0 !important;
    right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
  }
  
  .carousel-container {
    padding: 0; /* KEIN PADDING */
    width: 100%;
  }
  
  /* Keine Fade Masks */
  .network-carousel-section::before,
  .network-carousel-section::after {
    display: none;
  }
  
  .logo-item img {
    max-width: 80px;
    max-height: 40px;
  }
  
  /* Text Logos auf sehr kleinen Screens */
  .logo-text {
    font-size: 20px;
  }
}

/* Performance Optimizations */
@media (prefers-reduced-motion: reduce) {
  .carousel-track {
    animation: none;
  }
  
  .logo-item img {
    filter: var(--logo-hover-filter);
  }
}

/* High Performance Mode */
.carousel-track {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
}

.logo-item img {
  will-change: filter, transform;
}
</style>

<section class="network-carousel-section" id="network-carousel">
  <div class="carousel-container">
    <!-- Optional Trust Badge -->
    <div class="carousel-trust-badge">
      700+ Network Partners Worldwide
    </div>
    
    <!-- Carousel Track mit duplizierten Logos für nahtlosen Loop -->
    <div class="carousel-track">
      <!-- Erste Logo-Gruppe -->
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/vodafone.webp?v=1722286812" alt="Vodafone" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/at.webp?v=1722286812" alt="AT&T" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/telefonica.webp?v=1722286812" alt="Telefónica" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/t_mobile.webp?v=1722286812" alt="T-Mobile" loading="lazy">
      </div>
      <div class="logo-item text-logo">
        <span class="logo-text">Orange</span>
      </div>
      <div class="logo-item text-logo">
        <span class="logo-text">Verizon</span>
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/tele2.webp?v=1722286812" alt="Tele2" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/turkcel.webp?v=1722286812" alt="Turkcell" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/movistarr.webp?v=1722286812" alt="Movistar" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/tim.webp?v=1722286812" alt="TIM" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/telcel.webp?v=1722286812" alt="Telcel" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/airtel.webp?v=1722286812" alt="Airtel" loading="lazy">
      </div>
      
      <!-- DUPLIZIERTE Logo-Gruppe für nahtlosen Loop -->
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/vodafone.webp?v=1722286812" alt="Vodafone" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/at.webp?v=1722286812" alt="AT&T" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/telefonica.webp?v=1722286812" alt="Telefónica" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/t_mobile.webp?v=1722286812" alt="T-Mobile" loading="lazy">
      </div>
      <div class="logo-item text-logo">
        <span class="logo-text">Orange</span>
      </div>
      <div class="logo-item text-logo">
        <span class="logo-text">Verizon</span>
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/tele2.webp?v=1722286812" alt="Tele2" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/turkcel.webp?v=1722286812" alt="Turkcell" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/movistarr.webp?v=1722286812" alt="Movistar" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/tim.webp?v=1722286812" alt="TIM" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/telcel.webp?v=1722286812" alt="Telcel" loading="lazy">
      </div>
      <div class="logo-item">
        <img src="https://cdn.shopify.com/s/files/1/0633/9012/2175/files/airtel.webp?v=1722286812" alt="Airtel" loading="lazy">
      </div>
    </div>
  </div>
</section>

<script>
(function() {
  'use strict';
  
  // Optional: Dynamische Speed-Anpassung basierend auf Viewport
  function adjustCarouselSpeed() {
    const carousel = document.querySelector('.carousel-track');
    if (!carousel) return;
    
    const viewportWidth = window.innerWidth;
    let speed = '40s';
    
    if (viewportWidth < 768) {
      speed = '30s';
    } else if (viewportWidth < 480) {
      speed = '25s';
    }
    
    carousel.style.animationDuration = speed;
  }
  
  // Optional: Pause on Tab/Window blur für Performance
  function handleVisibilityChange() {
    const carousel = document.querySelector('.carousel-track');
    if (!carousel) return;
    
    if (document.hidden) {
      carousel.style.animationPlayState = 'paused';
    } else {
      carousel.style.animationPlayState = 'running';
    }
  }
  
  // Initialize
  function init() {
    adjustCarouselSpeed();
    
    // Event Listeners
    window.addEventListener('resize', adjustCarouselSpeed);
    document.addEventListener('visibilitychange', handleVisibilityChange);
    
    // Optional: Click handler für Partner-Links
    document.querySelectorAll('.logo-item').forEach(logo => {
      logo.addEventListener('click', function() {
        // Hier könntest du zu Partner-Seiten verlinken
        console.log('Logo clicked:', this.querySelector('img').alt);
      });
    });
  }
  
  // Start when DOM ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

{% schema %}
{
  "name": "Network Partners Carousel",
  "class": "network-carousel",
  "settings": [
    {
      "type": "range",
      "id": "carousel_speed",
      "label": "Animation Speed",
      "min": 20,
      "max": 60,
      "step": 5,
      "default": 40,
      "unit": "s"
    },
    {
      "type": "checkbox",
      "id": "pause_on_hover",
      "label": "Pause on Hover",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_trust_badge",
      "label": "Show Trust Badge",
      "default": false,
      "info": "Shows '700+ Network Partners' on hover"
    }
  ],
  "presets": [
    {
      "name": "Network Partners Carousel"
    }
  ]
}
{% endschema %}