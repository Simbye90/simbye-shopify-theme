<!-- sections/collection.liquid -->
<!-- SIMBYE ENTERPRISE COLLECTION PAGE -->

<style>
/* Kill Shopify Grid */
.shopify-section:has(.collection-section) {
  display: block !important;
  padding: 0 !important;
  margin: 0 !important;
  grid-template-columns: unset !important;
  max-width: 100% !important;
  width: 100% !important;
}

/* CSS Variables */
:root {
  --collection-primary: #009a61 !important;
  --collection-primary-dark: #00824f !important;
  --collection-accent: #00d97e !important;
  --collection-text: #1a1a1a !important;
  --collection-text-secondary: #666666 !important;
  --collection-bg: #ffffff !important;
  --collection-card-bg: #ffffff !important;
  --collection-border: rgba(0, 0, 0, 0.08) !important;
  --collection-shadow-md: 0 8px 24px rgba(0, 0, 0, 0.08) !important;
  --collection-radius: 24px !important;
}

[data-theme="dark"] {
  --collection-text: #ffffff !important;
  --collection-text-secondary: #cccccc !important;
  --collection-bg: #0a0a0a !important;
  --collection-card-bg: rgba(26, 26, 26, 0.8) !important;
  --collection-border: rgba(255, 255, 255, 0.08) !important;
  --collection-primary: #00d97e !important;
  --collection-accent: #00ff88 !important;
  --collection-shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
}

/* Main Section */
.collection-section {
  width: 100% !important;
  background: var(--collection-bg) !important;
  padding: 80px 0 !important;
  min-height: 100vh !important;
}

[data-theme="dark"] .collection-section {
  background: #0a0a0a !important;
}

/* Container */
.collection-container {
  max-width: 1600px !important;
  margin: 0 auto !important;
  padding: 0 40px !important;
}

/* Header */
.collection-header {
  text-align: center !important;
  margin-bottom: 72px !important;
}

.collection-title {
  font-size: clamp(36px, 5vw, 56px) !important;
  font-weight: 700 !important;
  color: var(--collection-text) !important;
  margin: 0 0 20px 0 !important;
  letter-spacing: -0.02em !important;
  line-height: 1.1 !important;
}

.collection-description {
  font-size: 20px !important;
  color: var(--collection-text-secondary) !important;
  margin: 0 !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  max-width: 800px !important;
  margin: 0 auto !important;
}

/* Products Grid */
.collection-products {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 32px !important;
  margin-bottom: 60px !important;
}

/* Product Card */
.product-card {
  background: var(--collection-card-bg) !important;
  border: 2px solid var(--collection-border) !important;
  border-radius: var(--collection-radius) !important;
  overflow: hidden !important;
  box-shadow: var(--collection-shadow-md) !important;
  display: flex !important;
  flex-direction: column !important;
  text-decoration: none !important;
}

[data-theme="dark"] .product-card {
  background: var(--collection-card-bg) !important;
  border-color: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(10px) !important;
}

/* Product Image Wrapper */
.product-image-wrapper {
  position: relative !important;
  width: 100% !important;
  padding-top: 75% !important;
  overflow: hidden !important;
  background: linear-gradient(135deg, #f8fffe 0%, #ffffff 100%) !important;
}

[data-theme="dark"] .product-image-wrapper {
  background: rgba(0, 217, 126, 0.05) !important;
}

.product-image {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}

/* Product Content */
.product-content {
  padding: 24px !important;
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
}

.product-vendor {
  font-size: 13px !important;
  color: var(--collection-text-secondary) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  margin-bottom: 8px !important;
  font-weight: 600 !important;
}

.product-title {
  font-size: 20px !important;
  font-weight: 700 !important;
  color: var(--collection-text) !important;
  margin: 0 0 12px 0 !important;
  line-height: 1.3 !important;
  letter-spacing: -0.01em !important;
  text-decoration: none !important;
}

.product-price {
  font-size: 22px !important;
  font-weight: 700 !important;
  color: var(--collection-primary) !important;
  margin-top: auto !important;
}

.product-price-compare {
  font-size: 16px !important;
  color: var(--collection-text-secondary) !important;
  text-decoration: line-through !important;
  margin-left: 8px !important;
}

/* Pagination */
.collection-pagination {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  gap: 12px !important;
  margin-top: 60px !important;
  flex-wrap: wrap !important;
}

.pagination-item {
  padding: 12px 20px !important;
  background: var(--collection-card-bg) !important;
  border: 2px solid var(--collection-border) !important;
  border-radius: 12px !important;
  color: var(--collection-text) !important;
  text-decoration: none !important;
  font-weight: 600 !important;
  font-size: 15px !important;
  min-width: 48px !important;
  text-align: center !important;
}

.pagination-item.active {
  background: var(--collection-primary) !important;
  color: white !important;
  border-color: var(--collection-primary) !important;
}

.pagination-item.disabled {
  opacity: 0.4 !important;
  pointer-events: none !important;
}

/* Empty State */
.collection-empty {
  text-align: center !important;
  padding: 100px 20px !important;
}

.collection-empty-icon {
  width: 80px !important;
  height: 80px !important;
  color: var(--collection-text-secondary) !important;
  margin: 0 auto 32px !important;
}

.collection-empty h3 {
  font-size: 28px !important;
  color: var(--collection-text) !important;
  margin: 0 0 16px 0 !important;
}

.collection-empty p {
  font-size: 18px !important;
  color: var(--collection-text-secondary) !important;
  margin: 0 0 32px 0 !important;
}

.collection-empty-btn {
  display: inline-flex !important;
  padding: 16px 32px !important;
  background: linear-gradient(135deg, var(--collection-primary), var(--collection-accent)) !important;
  color: white !important;
  border-radius: 12px !important;
  text-decoration: none !important;
  font-weight: 700 !important;
  font-size: 16px !important;
}

/* Product Count */
.collection-count {
  text-align: center !important;
  color: var(--collection-text-secondary) !important;
  font-size: 15px !important;
  margin-bottom: 32px !important;
}

/* Mobile Responsive */
@media (max-width: 1024px) {
  .collection-products {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 768px) {
  .collection-section {
    padding: 40px 0 !important;
  }
  
  .collection-container {
    padding: 0 20px !important;
  }
  
  .collection-header {
    margin-bottom: 48px !important;
  }
  
  .collection-products {
    grid-template-columns: 1fr !important;
    gap: 24px !important;
  }
  
  .product-content {
    padding: 20px !important;
  }
  
  .product-title {
    font-size: 18px !important;
  }
  
  .product-price {
    font-size: 20px !important;
  }
  
  .collection-pagination {
    gap: 8px !important;
  }
  
  .pagination-item {
    padding: 10px 16px !important;
    font-size: 14px !important;
    min-width: 44px !important;
  }
}

@media (max-width: 480px) {
  .collection-title {
    font-size: 32px !important;
  }
  
  .collection-description {
    font-size: 16px !important;
  }
}
</style>

<section class="collection-section">
  <div class="collection-container">
    
    <!-- Header -->
    <div class="collection-header">
      <h1 class="collection-title">{{ collection.title }}</h1>
      {% if collection.description != blank %}
        <div class="collection-description">
          {{ collection.description }}
        </div>
      {% endif %}
    </div>
    
    {% paginate collection.products by 12 %}
      
      {% if collection.products.size > 0 %}
        
        <!-- Product Count -->
        <div class="collection-count">
          {{ paginate.items }} {{ 'products.general.items' | t | default: 'Products' }}
        </div>
        
        <!-- Products Grid -->
        <div class="collection-products">
          {% for product in collection.products %}
            <a href="{{ product.url }}" class="product-card">
              
              <!-- Image -->
              <div class="product-image-wrapper">
                {% if product.featured_image %}
                  <img 
                    class="product-image"
                    src="{{ product.featured_image | image_url: width: 800 }}"
                    alt="{{ product.title | escape }}"
                    loading="lazy"
                    width="800"
                    height="600"
                  >
                {% else %}
                  <img 
                    class="product-image"
                    src="https://via.placeholder.com/800x600/f0faf7/009a61?text={{ product.title | escape }}"
                    alt="{{ product.title | escape }}"
                    loading="lazy"
                  >
                {% endif %}
              </div>
              
              <!-- Content -->
              <div class="product-content">
                {% if product.vendor != blank %}
                  <div class="product-vendor">{{ product.vendor }}</div>
                {% endif %}
                
                <h3 class="product-title">{{ product.title }}</h3>
                
                <div class="product-price">
                  {% if product.compare_at_price > product.price %}
                    <span class="product-price-compare">
                      {{ product.compare_at_price | money }}
                    </span>
                  {% endif %}
                  {{ product.price | money }}
                </div>
              </div>
              
            </a>
          {% endfor %}
        </div>
        
        <!-- Pagination -->
        {% if paginate.pages > 1 %}
          <div class="collection-pagination">
            
            {% if paginate.previous %}
              <a href="{{ paginate.previous.url }}" class="pagination-item">
                ← Previous
              </a>
            {% else %}
              <span class="pagination-item disabled">← Previous</span>
            {% endif %}
            
            {% for part in paginate.parts %}
              {% if part.is_link %}
                <a href="{{ part.url }}" class="pagination-item">
                  {{ part.title }}
                </a>
              {% else %}
                {% if part.title == paginate.current_page %}
                  <span class="pagination-item active">
                    {{ part.title }}
                  </span>
                {% else %}
                  <span class="pagination-item">
                    {{ part.title }}
                  </span>
                {% endif %}
              {% endif %}
            {% endfor %}
            
            {% if paginate.next %}
              <a href="{{ paginate.next.url }}" class="pagination-item">
                Next →
              </a>
            {% else %}
              <span class="pagination-item disabled">Next →</span>
            {% endif %}
            
          </div>
        {% endif %}
        
      {% else %}
        
        <!-- Empty State -->
        <div class="collection-empty">
          <svg class="collection-empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"/>
          </svg>
          
          <h3>No Products Found</h3>
          <p>This collection is currently empty. Check back soon!</p>
          
          <a href="{{ routes.root_url }}" class="collection-empty-btn">
            Browse All Products
          </a>
        </div>
        
      {% endif %}
      
    {% endpaginate %}
    
  </div>
</section>

{% schema %}
{
  "name": "Collection",
  "settings": []
}
{% endschema %}